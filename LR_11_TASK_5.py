# –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞. –í —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É –æ–¥–Ω–æ–≥–æ
# —Å—É–ø–µ—Ä–∫–æ–º–ø—å—é—Ç–µ—Ä–∞ –ø—Ä–æ–Ω–∏–∫ –≤–∏—Ä—É—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–ª–æ–º–∞–ª –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
# –∫ —Ñ–∞–π–ª–∞–º. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑–≤–µ—Å—Ç–Ω–æ, —Å –∫–∞–∫–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –º–æ–∂–Ω–æ –∫ –Ω–µ–º—É
# –æ–±—Ä–∞—â–∞—Ç—å—Å—è:
# 1) –∑–∞–ø–∏—Å—å W;
# 2) —á—Ç–µ–Ω–∏–µ R;
# 3) –∑–∞–ø—É—Å–∫ X.
# –í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è —á–∏—Å–ª–æ ùëÅ ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤
# —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤ –¥–∞–Ω–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –í —Å–ª–µ–¥—É—é—â–∏—Ö ùëÅ —Å—Ç—Ä–æ—á–∫–∞—Ö
# —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –∏ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å –Ω–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏–π, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ
# –ø—Ä–æ–±–µ–ª–∞–º–∏. –î–∞–ª–µ–µ —É–∫–∞–∑–∞–Ω–æ —á–∏—Å–ª–æ ùëÄ ‚Äì –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Ñ–∞–π–ª–∞–º. –í
# –ø–æ—Å–ª–µ–¥–Ω–∏—Ö ùëÄ —Å—Ç—Ä–æ–∫–∞—Ö —É–∫–∞–∑–∞–Ω –∑–∞–ø—Ä–æ—Å –≤–∏–¥–∞ –û–ø–µ—Ä–∞—Ü–∏—è –§–∞–π–ª. –ö –æ–¥–Ω–æ–º—É –∏ —Ç–æ–º—É –∂–µ
# —Ñ–∞–π–ª—É –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–æ –ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤.
# –í–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º
# (–≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –¥–æ–ª–∂–Ω–∞ –±—É–¥–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å OK –µ—Å–ª–∏ –Ω–∞–¥
# —Ñ–∞–π–ª–æ–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –∏–ª–∏ –∂–µ Access denied, –µ—Å–ª–∏
# –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º–∞.
# –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
# 4
# helloworld.exe R X
# pinglog W R
# nya R
# goodluck X W R
# 5
# read nya
# write helloworld.exe
# execute nya
# read pinglog
# write pinglog
# 9
# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
# OK
# Access denied
# Access denied
# OK
# OK

n = int(input("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ —Ñ–∞–π–ª–æ–≤ n "))
strings = []
file_dict = {}
for i in range(n):
    strings.append(str(input("–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –Ω–∏–º —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª ")))
    str_to_dict = strings[i].split()
    if len(str_to_dict) == 1:
        file_dict[str_to_dict[0]] = 0
    if len(str_to_dict) == 2:
        file_dict[str_to_dict[0]] = str_to_dict[1]
    if len(str_to_dict) == 3:
        file_dict[str_to_dict[0]] = str_to_dict[1], str_to_dict[2]
    if len(str_to_dict) == 4:
        file_dict[str_to_dict[0]] = str_to_dict[1], str_to_dict[2], str_to_dict[3]

m = int(input("–í–≤–µ–¥–∏—Ç–µ –∫–æ–ª-–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Ñ–∞–π–ª–∞–º m "))
operations = []
oper_dict = {}
for i in range(m):
    operations.append(str(input("–í–≤–µ–¥–∏—Ç–µ –æ–ø–µ—Ä–∞—Ü–∏—é —Å –º–∞–ª–µ–Ω—å–∫–æ–π –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª ")))
    oper_to_dict = operations[i].split()
    if oper_to_dict[0] == "read":
        oper_to_dict[0] = "R"
    if oper_to_dict[0] == "write":
        oper_to_dict[0] = "W"
    if oper_to_dict[0] == "execute":
        oper_to_dict[0] = "X"
    oper_dict[oper_to_dict[1]] = oper_to_dict[0]

for key in oper_dict:
    if oper_dict[key] == file_dict[key]:
        print("ok")
    else:
        print("access denied")


